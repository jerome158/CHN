name: Download

on:
  workflow_dispatch:

jobs:
  download-m3u:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    - name: Install Chrome and dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver

    - name: Install Python packages
      run: |
        python -m pip install --upgrade pip
        pip install selenium webdriver-manager

    - name: Run Python script
      run: |
        python GT.py

    - name: Check results
      run: |
        if [ -f "mig2.txt" ]; then
          echo "âœ… ä¸‹è½½æˆåŠŸ"
          echo "ğŸ“Š æ–‡ä»¶ä¿¡æ¯:"
          echo "  å¤§å°: $(wc -c < mig2.txt) bytes"
        else
          echo "âŒ ä¸‹è½½å¤±è´¥"
        fi

